{
  "version": "1.0",
  "settings": {
    "default_enabled": true,
    "default_priority": 50
  },
  "rules": [
    {
      "name": "python-version-file",
      "description": "Parse .python-version file",
      "priority": 10,
      "enabled": true,
      "tags": [
        "explicit",
        "version-file"
      ],
      "match": {
        "file_pattern": ".python-version",
        "max_file_size": 1024
      },
      "parser": {
        "type": "simple_version",
        "config": {
          "confidence": 1.0,
          "trim_whitespace": true
        }
      }
    },
    {
      "name": "pyproject-toml",
      "description": "Parse pyproject.toml for Python version",
      "priority": 20,
      "enabled": true,
      "tags": [
        "config-file"
      ],
      "match": {
        "file_pattern": "pyproject.toml",
        "required_content": "\\[tool\\.poetry\\]|\\[project\\]"
      },
      "parser": {
        "type": "pyproject_toml"
      }
    },
    {
      "name": "dockerfile-python",
      "description": "Extract Python version from Dockerfile",
      "priority": 30,
      "enabled": true,
      "tags": [
        "docker"
      ],
      "match": {
        "file_pattern": "Dockerfile*",
        "required_content": "FROM.*python"
      },
      "parser": {
        "type": "regex",
        "config": {
          "pattern": "FROM\\s+python:(?P<version>\\d+\\.\\d+(?:\\.\\d+)?)",
          "version_group": "version",
          "confidence": 0.7
        }
      }
    }
  ]
}
